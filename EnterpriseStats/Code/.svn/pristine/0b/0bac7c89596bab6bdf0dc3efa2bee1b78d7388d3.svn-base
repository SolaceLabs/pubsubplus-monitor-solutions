<?xml version="1.0" encoding="utf-8"?>
<config>
<!--
Built In
=========
The Pump requires certain information from the polled system for its status, so some of the Pollers are hardcoded in the tool

show hostname
show message-spool
show redundancy detail
show message-vpn * stats detail


Config File
============
These others are configured below.  Others may be added by just creating a new blob of XML config.

SYSTEM:
show hardware details
show hardware post
show alarm
show environment
show memory
show disk detail
show version
show interface
show service
show ip vrf msg-backbone
show ip vrf management
show config-sync
show config-sync database
show stats client detail
show stats neighbor detail
show smrp database detail
show cspf stats
show cspf neighbor *
show cspf neighbor * stats detail
show message-spool detail
show message-spool stats

VPN:
show message-vpn * detail
show message-vpn * service
show client * stats queues
show client * stats
show client * connections wide  (only on SolOS > 7.1.1 due to SEMP bug - missing message-vpn tag)
show distributed-cache * detail
show cache-cluster * detail
show cache-cluster * topics
show cache-instance * detail
show cache-instance * remote status
show bridge * stats
show bridge * subscriptions
show message-spool message-vpn * detail
show queue *
show queue * rates
show queue * detail
show queue * subscriptions
show topic-endpoint *
show topic-endpoint * detail
-->

<!-- pollers to do still:
 - show replication AAAA
 - show replication stats AAAA
 - show message-vpn * replication (?) - probably just MGMT
 - show replicated-topic * AAAA?  (VPN - BOTH)
 - show cspf database
 - show dns..?

 - show client * slow-subscriber
 - per-VPN ones - e.g. show client * sorted-stats <blah>
    - of course, these can be determined by looking at all clients and just maintaining a list
 
-->

<!--
  There are 5 modes defined within the Solace Stats Publisher application for when a particular
  Poller is supposed to run.  These are:
   - AD-Active: only run this Poller on this appliance when it's message-spool state is AD-Active
   - PRIMARY_LOCAL_ACTIVE: run this Poller when the primary virtual router is Active (i.e. active for your own VRRP ID)
   - BACKUP_LOCAL_ACTIVE: run this Poller when the backup virtual router is also Active (i.e. when other appliance has failed over to this one... Primary virtual router will also be active)
   - ALWAYS: always run this Poller, regardless of appliance condition (e.g. show environment, show hardware, etc.)
   - NEVER: never run this Poller when appliance is in this state.
-->

  <run-configurations>
    <run-configuration>
      <name>AD-Active</name>
      <run-on-primary-when-active-standby>AD_ACTIVE</run-on-primary-when-active-standby>
      <run-on-backup-when-active-standby>AD_ACTIVE</run-on-backup-when-active-standby>
      <run-on-primary-when-active-active>AD_ACTIVE</run-on-primary-when-active-active>
      <run-on-backup-when-active-active>AD_ACTIVE</run-on-backup-when-active-active>
    </run-configuration>
    <run-configuration>
      <name>PBPP</name>
      <run-on-primary-when-active-standby>PRIMARY_LOCAL_ACTIVE</run-on-primary-when-active-standby>
      <run-on-backup-when-active-standby>BACKUP_LOCAL_ACTIVE</run-on-backup-when-active-standby>
      <run-on-primary-when-active-active>PRIMARY_LOCAL_ACTIVE</run-on-primary-when-active-active>
      <run-on-backup-when-active-active>PRIMARY_LOCAL_ACTIVE</run-on-backup-when-active-active>
    </run-configuration>
    <run-configuration>
      <name>PBAA</name>
      <run-on-primary-when-active-standby>PRIMARY_LOCAL_ACTIVE</run-on-primary-when-active-standby>
      <run-on-backup-when-active-standby>BACKUP_LOCAL_ACTIVE</run-on-backup-when-active-standby>
      <run-on-primary-when-active-active>ALWAYS</run-on-primary-when-active-active>
      <run-on-backup-when-active-active>ALWAYS</run-on-backup-when-active-active>
    </run-configuration>
    <run-configuration>
      <name>AAAA</name>
      <run-on-primary-when-active-standby>ALWAYS</run-on-primary-when-active-standby>
      <run-on-backup-when-active-standby>ALWAYS</run-on-backup-when-active-standby>
      <run-on-primary-when-active-active>ALWAYS</run-on-primary-when-active-active>
      <run-on-backup-when-active-active>ALWAYS</run-on-backup-when-active-active>
    </run-configuration>
    <run-configuration>
      <name>PBPB</name>
      <run-on-primary-when-active-standby>PRIMARY_LOCAL_ACTIVE</run-on-primary-when-active-standby>
      <run-on-backup-when-active-standby>BACKUP_LOCAL_ACTIVE</run-on-backup-when-active-standby>
      <run-on-primary-when-active-active>PRIMARY_LOCAL_ACTIVE</run-on-primary-when-active-active>
      <run-on-backup-when-active-active>BACKUP_LOCAL_ACTIVE</run-on-backup-when-active-active>
    </run-configuration>
  </run-configurations>

  <pollers>
    <!-- NOTE: 'show hostname', 'show redundancy detail', and 'show message-spool' are already being run as **built-in** Pollers and are not include below -->
    <!-- SYSTEM LEVEL POLLERS - HARDWARE / APPLIANCE STUFF -->
    
    <system-poller>
      <name>show hardware details</name>
      <description>Details on the chassis and blades. This will include information such as transmit
                   power on optical links, WWN information for an attached
                   SAN, power supplies, serial numbers, etc.  This should not be polled quickly.</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <hardware>
              <details/>
            </hardware>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>HARDWARE</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/hardware</base-tag>
      <min-poll-interval-sec>60</min-poll-interval-sec> <!-- not enforced yet -->
    </system-poller>

    <system-poller>
      <name>show hardware post</name>
      <description>Overall Power-On Self Test results of the hardware. This information does not need to be polled often.</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <hardware>
              <post/>
            </hardware>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>HARDWARE_POST</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/hardware</base-tag>
    </system-poller>

    <system-poller>
      <name>show alarm</name>
      <description>Any currently triggered hardware alarms. This would include: disk down, fibre channel link down, SAN unreachable, 
                   uncorrectable memory error, fan speed low, etc.</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <alarm/>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>ALARMS</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/alarm/alarms</base-tag>
    </system-poller>

    <system-poller>
      <name>show environment</name>
      <description>Readings of various thermal and electrical sensors.</description>
      <semp-request>
        <rpc semp-version='%s'><show><environment/></show></rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>ENVIRONMENT</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/environment</base-tag>
      <min-poll-interval-sec>60</min-poll-interval-sec>
    </system-poller>

    <system-poller>
      <name>show memory</name>
      <description>Details on the various memory pools and buffers for the whole router</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <memory/>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>MEMORY</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/memory</base-tag>
    </system-poller>

    <system-poller>
      <name>show disk detail</name>
      <description>Details on the status of the internal disks</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <disk>
              <detail/>
            </disk>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>DISK</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/disk</base-tag>
    </system-poller>

    <system-poller>
      <name>show version</name>
      <description>Details on the current and previously installed versions of SolOS.  And uptime.</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <version/>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>VERSION</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/version</base-tag>
    </system-poller>

    <!-- APPLIANCE LEVEL POLLERS - NETWORK RELATED ITEMS -->
    
    <system-poller>
      <name>show interface</name>
      <description>All of the various interfaces</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <interface/>
          </show>
         </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>INTERFACE/~PHY_INTERFACE~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/interface/interfaces/interface</base-tag>
      <object-tags>
        <object-tag>
          <name>PHY_INTERFACE</name>
          <tag>/phy-interface</tag>
        </object-tag>
      </object-tags>
    </system-poller>

    <!-- these two are hardcoded as SEMP currently doesn't support 'show interface * detail'; these are useful to see the Layer2 frame stats -->
    <system-poller>
      <name>show interface 1/1/1 detail</name>
      <description>All of the various interfaces</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <interface>
              <phy-interface>1/1/1</phy-interface>
              <detail/>
            </interface>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>INTERFACE_DETAIL/~PHY_INTERFACE~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/interface/interfaces/interface</base-tag>
      <object-tags>
        <object-tag>
          <name>PHY_INTERFACE</name>
          <tag>/phy-interface</tag>
        </object-tag>
      </object-tags>
    </system-poller>
    
    <system-poller>
      <name>show interface 1/1/2 detail</name>
      <description>All of the various interfaces</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <interface>
              <phy-interface>1/1/2</phy-interface>
              <detail/>
            </interface>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>INTERFACE_DETAIL/~PHY_INTERFACE~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/interface/interfaces/interface</base-tag>
      <object-tags>
        <object-tag>
          <name>PHY_INTERFACE</name>
          <tag>/phy-interface</tag>
        </object-tag>
      </object-tags>
    </system-poller>

    <system-poller>
      <name>show service</name>
      <description>Details on the messaging and management services the router provides, and (post R7.0) connection limits</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <service/>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>SERVICE</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/service/services</base-tag>
    </system-poller>

    <system-poller>
      <name>show ip vrf msg-backbone</name>
      <description>TBD</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <ip>
              <vrf>
                <name>msg-backbone</name>
              </vrf>
            </ip>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>IP_VRF/~VRF_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/ip/vrf/vrf-element</base-tag>
      <object-tags>
        <object-tag>
          <name>VRF_NAME</name>
          <tag>/vrf-name</tag>
        </object-tag>
      </object-tags>
    </system-poller>

    <system-poller>
      <name>show ip vrf management</name>
      <description>TBD</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <ip>
              <vrf>
                <name>management</name>
              </vrf>
            </ip>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>IP_VRF/~VRF_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/ip/vrf/vrf-element</base-tag>
      <object-tags>
        <object-tag>
          <name>VRF_NAME</name>
          <tag>/vrf-name</tag>
        </object-tag>
      </object-tags>
    </system-poller>
    
    <!-- APPLIANCE LEVEL POLLERS - CONFIGURATION RELATED ITEMS -->
    
    <system-poller>
      <name>show config-sync</name>
      <description>Just the top-level status of the config-sync</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <config-sync/>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>CONFIG-SYNC</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/config-sync/status</base-tag>
    </system-poller>

    <system-poller>
      <name>show config-sync database</name>
      <description>Listing of the config-sync status for all VPNs</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <config-sync>
              <database/>
            </config-sync>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>CONFIG-SYNC_DATABASE/~TYPE~/~NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/config-sync/database/local/tables/table</base-tag>
      <object-tags>
        <object-tag>
          <name>TYPE</name>
          <tag>/type</tag>
        </object-tag>
        <object-tag>
          <name>NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </system-poller>

    <!-- APPLIANCE LEVEL POLLERS - GLOBAL MESSAGING RELATED STUFF -->
    <system-poller>
      <name>show stats client detail</name>
      <description>Connection counts, message counts and rates, and other messaging statistics for the entire router</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <stats>
              <client>
                <detail/>
              </client>
            </stats>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>STATS_CLIENT</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/stats/client/global/stats</base-tag>
    </system-poller>

    <system-poller>
      <name>show stats neighbor detail</name>
      <description>Message and byte counts and rates for all CSPF neighbor connections</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <stats>
              <neighbor>
                <detail/>
              </neighbor>
            </stats>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>STATS_NEIGHBOR</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/stats/neighbor</base-tag>
    </system-poller>

    
    <system-poller>
      <name>show smrp database detail</name>
      <description>Shows SMRP routing database information</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <smrp>
              <database>
                <detail/>
              </database>
            </smrp>
          </show>
         </rpc>
      </semp-request>
      <run-configuration>PBAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>SMRP_DATABASE</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/smrp/database</base-tag>
    </system-poller>

    
    <system-poller>
      <name>show cspf stats</name>
      <description>Shows CSPF routing statistics information</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <cspf>
              <stats/>
            </cspf>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>CSPF_STATS</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/cspf/stats</base-tag>
    </system-poller>
    
    <system-poller>
      <name>show cspf database</name>
      <description>Shows CSPF database information</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <cspf>
              <database/>
            </cspf>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>CSPF_DATABASE</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/cspf/stats</base-tag>
    </system-poller>
    
    <system-poller>
      <name>show cspf neighbor *</name>
      <description>Shows CSPF routing information about connected neighbour routers</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <cspf>
              <neighbor>
                <physical-router-name>*</physical-router-name>
              </neighbor>
            </cspf>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>CSPF_NEIGHBOR/~NEIGHBOR~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/cspf/neighbor/neighbors/neighbor</base-tag>
      <object-tags>
        <object-tag>
          <name>NEIGHBOR</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </system-poller>

    <system-poller>
      <name>show cspf neighbor * stats detail</name>
      <description>Shows message rates and stats between CSPF neighbour routers</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <cspf>
              <neighbor>
                <physical-router-name>*</physical-router-name>
                <stats/>
                <detail/>
              </neighbor>
            </cspf>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>CSPF_NEIGHBOR_STATS/~NEIGHBOR~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/cspf/neighbor/neighbors/neighbor</base-tag>
      <object-tags>
        <object-tag>
          <name>NEIGHBOR</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </system-poller>
    
    <system-poller>
      <name>show cspf neighbor * stats queues</name>
      <description>Shows TCP egress queue informations for all CSPF neighbour routers</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <cspf>
              <neighbor>
                <physical-router-name>*</physical-router-name>
                <stats/>
                <queues/>
              </neighbor>
            </cspf>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AAAA</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>CSPF_NEIGHBOR_STATS_QUEUES/~NEIGHBOR~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/cspf/neighbor/neighbors/neighbor</base-tag>
      <object-tags>
        <object-tag>
          <name>NEIGHBOR</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </system-poller>
    
    
    <system-poller>
      <name>show message-spool detail</name>
      <description>Detailed information about the router's message spool</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <message-spool>
              <detail/>
            </message-spool>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPB</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>MSG-SPOOL_DETAIL</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/message-spool/message-spool-info</base-tag>
    </system-poller>

    <system-poller>
      <name>show message-spool stats</name>
      <description>Reports a number of statistics for the global / router-wide message spool</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <message-spool>
              <stats/>
            </message-spool>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AD-Active</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>MSG-SPOOL_STATS</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/message-spool/message-spool-stats</base-tag>
    </system-poller>


    <!-- VPN LEVEL POLLERS - DIRECT MESSAGING STUFF -->

    <!-- NOTE: 'show message-vpn * detail' is already being run as a built-in poller -->
    
    <vpn-poller>
      <name>show message-vpn * stats detail</name>
      <description>Reports back a number of aggregate statistics for a Message VPN</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <message-vpn>
              <vpn-name>*</vpn-name>
              <stats/>
              <detail/>
              <count/>
              <num-elements>1000</num-elements>
            </message-vpn>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>STATS</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/message-vpn/vpn</base-tag>
      <vpn-name-tag>/name</vpn-name-tag>
    </vpn-poller>

    <vpn-poller>
      <name>show message-vpn * service</name>
      <description>Shows information regarding connection limits and types of messaging services this VPN provides.</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <message-vpn>
              <vpn-name>*</vpn-name>
              <service/>
              <count/>
              <num-elements>1000</num-elements>
            </message-vpn>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>SERVICE</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/message-vpn/vpn</base-tag>
      <vpn-name-tag>/name</vpn-name-tag>
    </vpn-poller>

    <vpn-poller>
      <name>show client * stats queues</name>
      <description>Shows various details for client connections, as well as the egress transmit queues (buffers) within the NAB</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <client>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <stats/>
              <queues/>
              <count/>
              <num-elements>1000</num-elements>
           </client>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>CLIENT_DETAIL/~CLIENT_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/client/*/client</base-tag>
      <vpn-name-tag>/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>CLIENT_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    <vpn-poller>
      <name>show client * stats</name>
      <description>Shows statistics and rates for client connections</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <client>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <stats/>
              <count/>
              <num-elements>1000</num-elements>
            </client>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>CLIENT_STATS/~CLIENT_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/client/*/client</base-tag>
      <vpn-name-tag>/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>CLIENT_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    <vpn-poller>
      <name>show client * connections wide</name>
      <description>Very detailed L2 and L3 information for each client connection</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <client>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <connections/>
              <wide/>
              <count/>
              <num-elements>1000</num-elements>
            </client>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>CLIENT_CONNS/~CLIENT_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/client/*/client</base-tag>
      <vpn-name-tag>/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>CLIENT_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
      <min-semp-ver>soltr/7_1_1</min-semp-ver>  <!-- for this command, it *must* be at 7.1.1 as there was a bug in SEMP where the "message-vpn" attribute was missing in the SEMP reply -->
    </vpn-poller>

    <!-- CACHES -->
    <vpn-poller>
      <name>show distributed-cache * detail</name>
      <description>Details about the distributed SolCaches in each VPN</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <distributed-cache>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <detail/>
            </distributed-cache>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>CACHE/~CACHE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/distributed-cache/distributed-caches/distributed-cache</base-tag>
      <vpn-name-tag>/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>CACHE_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    <vpn-poller>
      <name>show cache-cluster * detail</name>
      <description>Details about the cache clusters in each VPN</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <cache-cluster>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <detail/>
            </cache-cluster>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>CACHE-CLUSTER/~CLUSTER_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/cache-cluster/cache-clusters/cache-cluster</base-tag>
      <vpn-name-tag>/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>CACHE_NAME</name>
          <tag>/distributed-cache</tag>
        </object-tag>
        <object-tag>
          <name>CLUSTER_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>
    
    <vpn-poller>
      <name>show cache-cluster * topics</name>
      <description>A list of the topics subscribed to by every cache cluster in each VPN</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <cache-cluster>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <topics/>
            </cache-cluster>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>CACHE-CLUSTER_TOPICS/~CLUSTER_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/cache-cluster/cache-clusters/cache-cluster</base-tag>
      <vpn-name-tag>/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>CACHE_NAME</name>
          <tag>/distributed-cache</tag>
        </object-tag>
        <object-tag>
          <name>CLUSTER_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>
    
    <vpn-poller>
      <name>show cache-instance * detail</name>
      <description>Details about the cache instances in each VPN</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <cache-instance>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <detail/>
            </cache-instance>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>CACHE-INSTANCE/~INSTANCE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/cache-instance/cache-instances/cache-instance</base-tag>
      <vpn-name-tag>/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>CACHE_NAME</name>
          <tag>/distributed-cache</tag>
        </object-tag>
        <object-tag>
          <name>CLUSTER_NAME</name>
          <tag>/cache-cluster</tag>
        </object-tag>
        <object-tag>
          <name>INSTANCE_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>
    
    <vpn-poller>
      <name>show cache-instance * remote status</name>
      <description>Runtime (non-configuration) information about the cache instances in each VPN</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <cache-instance>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <remote/>
              <status/>
            </cache-instance>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>CACHE-INSTANCE_STATUS/~INSTANCE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/cache-instance/cache-instances/cache-instance</base-tag>
      <vpn-name-tag>/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>CACHE_NAME</name>
          <tag>/distributed-cache</tag>
        </object-tag>
        <object-tag>
          <name>CLUSTER_NAME</name>
          <tag>/cache-cluster</tag>
        </object-tag>
        <object-tag>
          <name>INSTANCE_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>
    
    <vpn-poller>
      <name>show bridge * stats</name>
      <description>Details and statistics on messaging bridges between this VPN and other remote ones</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <bridge>
              <bridge-name-pattern>*</bridge-name-pattern>
              <stats/>
            </bridge>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>BRIDGE_STATS/~BRIDGE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/bridge/bridges/bridge</base-tag>
      <vpn-name-tag>/local-vpn-name</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>BRIDGE_NAME</name>
          <tag>/bridge-name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>
    
    <vpn-poller>
      <name>show bridge * subscriptions</name>
      <description>Itemizes the direct messaging subscriptions on any VPN bridges. Does not show bridge queues or bridge queue subscriptions.</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <bridge>
              <bridge-name-pattern>*</bridge-name-pattern>
              <subscriptions/>
            </bridge>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>BRIDGE_SUBS/~BRIDGE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/bridge/bridges/bridge</base-tag>
      <vpn-name-tag>/local-vpn-name</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>BRIDGE_NAME</name>
          <tag>/bridge-name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>
    
    <!-- VPN LEVEL POLLERS - GUARANTEED MESSAGING STUFF -->
    <vpn-poller>
      <name>show message-spool message-vpn * detail</name>
      <description>VPN  Message Spool Detail</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <message-spool>
              <vpn-name>*</vpn-name>
              <detail/>
            </message-spool>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AD-Active</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>MSG-SPOOL</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/message-spool/message-vpn/vpn</base-tag>
      <vpn-name-tag>/name</vpn-name-tag>
    </vpn-poller>

    <vpn-poller>
      <name>show queue *</name>
      <description>VPN Queue Basic Info</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <queue>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <count/>
              <num-elements>1000</num-elements>
            </queue>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AD-Active</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>QUEUE/~QUEUE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/queue/queues/queue</base-tag>
      <vpn-name-tag>/info/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>QUEUE_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    <vpn-poller>
      <name>show queue * rates</name>
      <description> </description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <queue>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <rates/>
              <count/>
              <num-elements>1000</num-elements>
            </queue>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AD-Active</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>QUEUE_RATES/~QUEUE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/queue/queues/queue</base-tag>
      <vpn-name-tag>/info/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>QUEUE_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>
  
    <vpn-poller>
      <name>show queue * detail</name>
      <description> </description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <queue>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <detail/>
              <count/>
              <num-elements>1000</num-elements>
            </queue>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AD-Active</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>QUEUE_DETAIL/~QUEUE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/queue/queues/queue</base-tag>
      <vpn-name-tag>/info/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>QUEUE_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    <vpn-poller>
      <name>show queue * stats</name>
      <description> </description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <queue>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <stats/>
              <count/>
              <num-elements>1000</num-elements>
            </queue>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AD-Active</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>QUEUE_STATS/~QUEUE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/queue/queues/queue</base-tag>
      <vpn-name-tag>/info/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>QUEUE_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    <vpn-poller>
      <name>show queue * subscriptions</name>
      <description>Detailed queue information including any topic subscriptions</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <queue>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <subscriptions/>
              <count/>
              <num-elements>1000</num-elements>
            </queue>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AD-Active</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>QUEUE_SUBS/~QUEUE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/queue/queues/queue</base-tag>
      <vpn-name-tag>/info/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>QUEUE_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    <vpn-poller>
      <name>show topic-endpoint *</name>
      <description> </description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <topic-endpoint>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <count/>
              <num-elements>1000</num-elements>
            </topic-endpoint>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AD-Active</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>TE/~TE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/topic-endpoint/topic-endpoints/topic-endpoint</base-tag>
      <vpn-name-tag>/info/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>TE_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>


    <vpn-poller>
      <name>show topic-endpoint * rates</name>
      <description> </description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <topic-endpoint>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <rates/>
              <count/>
              <num-elements>1000</num-elements>
            </topic-endpoint>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AD-Active</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>TE_RATES/~TE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/topic-endpoint/topic-endpoints/topic-endpoint</base-tag>
      <vpn-name-tag>/info/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>TE_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    <vpn-poller>
      <name>show topic-endpoint * detail</name>
      <description> </description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <topic-endpoint>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <detail/>
              <count/>
              <num-elements>1000</num-elements>
            </topic-endpoint>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AD-Active</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>TE_DETAIL/~TE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/topic-endpoint/topic-endpoints/topic-endpoint</base-tag>
      <vpn-name-tag>/info/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>TE_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    <vpn-poller>
      <name>show topic-endpoint * stats</name>
      <description> </description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <topic-endpoint>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <stats/>
              <count/>
              <num-elements>1000</num-elements>
            </topic-endpoint>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>AD-Active</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>TE_STATS/~TE_NAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/topic-endpoint/topic-endpoints/topic-endpoint</base-tag>
      <vpn-name-tag>/info/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>TE_NAME</name>
          <tag>/name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    <vpn-poller>
      <name>show log no-subscription-match wide</name>
      <description>A listing of all topics from published messages that did not match any subscriptions</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <log>
              <no-subscription-match>
                <wide/>
              </no-subscription-match>
            </log>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>LOG_NO-SUB/~TOPIC~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/log/no-subscription-match/entry</base-tag>
      <vpn-name-tag>/vpn-name</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>TOPIC</name>
          <tag>/topic</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    
    <vpn-poller>
      <name>show client-username * detail</name>
      <description>Configuration information on all client usernames</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <client-username>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <detail/>
              <count/>
              <num-elements>1000</num-elements>
            </client-username>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>CLIENT-USERNAME/~CLIENT_USERNAME~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/client-username/client-usernames/client-username</base-tag>
      <vpn-name-tag>/message-vpn</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>CLIENT_USERNAME</name>
          <tag>/client-username</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    <vpn-poller>
      <name>show acl-profile * detail</name>
      <description>Configuration information on all ACL profiles</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <acl-profile>
              <name>*</name>
              <vpn-name>*</vpn-name>
              <detail/>
              <count/>
              <num-elements>1000</num-elements>
            </acl-profile>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>MGMT</destination>
      <topic-string-suffix>ACL-PROFILE/~ACL_PROFILE~</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/acl-profile/acl-profiles/acl-profile</base-tag>
      <vpn-name-tag>/vpn-name</vpn-name-tag>
      <object-tags>
        <object-tag>
          <name>ACL_PROFILE</name>
          <tag>/profile-name</tag>
        </object-tag>
      </object-tags>
    </vpn-poller>

    
  <!--
      total-client-messages-sent
      total-client-messages-received
      total-client-bytes-sent
      total-client-bytes-received
      total-egress-discards
      round-trip-time-smooth-us
      high-water-mark-work
      current-ingress-message-rate-per-second
      current-egress-message-rate-per-second
      average-ingress-message-rate-per-minute
      average-egress-message-rate-per-minute
      current-ingress-byte-rate-per-second
      current-egress-byte-rate-per-second
      average-ingress-byte-rate-per-minute
      average-egress-byte-rate-per-minute
      num-subscriptions
-->

    <!-- PER-VPN LEVEL POLLERS - NEED TO ASK EACH VPN INDEPENDENTLY - These have not yet been implemented in the Pump code, so they won't work -->
    <per-vpn-poller>
      <name>show client * sorted-stats total-egress-discard</name>
      <description>Per-VPN Primary Client Discards</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <client>
              <name>*</name>
              <vpn-name>%s</vpn-name>
              <sorted-stats/>
              <stats-to-show>total-egress-discards</stats-to-show>
              <primary/>
            </client>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination> 
      <topic-string-suffix>CLIENT/SORTED/DISCARDS</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/client/sorted-stats</base-tag>
    </per-vpn-poller>

    <per-vpn-poller>
      <name>show client * sorted-stats total-client-messages-sent</name>
      <description>Per-VPN Primary Client Total Messages Sent</description>
      <semp-request>
        <rpc semp-version='%s'>
          <show>
            <client>
              <name>*</name>
              <vpn-name>%s</vpn-name>
              <sorted-stats/>
              <stats-to-show>total-client-messages-sent</stats-to-show>
              <primary/>
            </client>
          </show>
        </rpc>
      </semp-request>
      <run-configuration>PBPP</run-configuration>
      <destination>BOTH</destination>
      <topic-string-suffix>CLIENT/SORTED/TOTAL_MSGS_SENT</topic-string-suffix>
      <base-tag>/rpc-reply/rpc/show/client/sorted-stats</base-tag>
    </per-vpn-poller>
  </pollers>
</config>
