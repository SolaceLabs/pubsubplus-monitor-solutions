<?xml version="1.0" encoding="utf-8"?>
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:complexType name="semp-request-type">
    <xs:sequence>
      <xs:element name="rpc">
        <xs:complexType>
          <xs:sequence>
            <xs:element name="show">
              <xs:complexType>
                <xs:sequence>
                  <xs:any processContents="lax"/>
                </xs:sequence>
              </xs:complexType>
            </xs:element> <!-- end show -->
          </xs:sequence>
          <xs:attribute name="semp-version" type="xs:string" use="required"/>
        </xs:complexType>
      </xs:element> <!-- end rpc -->
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="object-tags-type">
    <xs:sequence>
	  <xs:element name="object-tag" maxOccurs="unbounded" minOccurs="1">
        <xs:complexType>
          <xs:sequence>
            <xs:element type="xs:string" name="name"/>
            <xs:element type="xs:string" name="tag"/>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="destination-type">
    <xs:restriction base="xs:string">
      <xs:enumeration value="SELF"/>
      <xs:enumeration value="MGMT"/>
      <xs:enumeration value="BOTH"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="run-condition">
    <xs:restriction base="xs:string">
      <xs:enumeration value="PRIMARY_LOCAL_ACTIVE"/>
      <xs:enumeration value="BACKUP_LOCAL_ACTIVE"/>
      <xs:enumeration value="AD_ACTIVE"/>
      <xs:enumeration value="ALWAYS"/>
      <xs:enumeration value="NEVER"/>
    </xs:restriction>
  </xs:simpleType>
  
  <xs:element name="config">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="run-configurations">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="run-configuration" maxOccurs="unbounded">
                <xs:complexType>
                  <xs:sequence>
                    <xs:element type="xs:string" name="name"/>
                    <xs:element type="run-condition" name="run-on-primary-when-active-standby"/>
                    <xs:element type="run-condition" name="run-on-backup-when-active-standby"/>
                    <xs:element type="run-condition" name="run-on-primary-when-active-active"/>
                    <xs:element type="run-condition" name="run-on-backup-when-active-active"/>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        
        <xs:element name="pollers">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="system-poller" maxOccurs="unbounded" minOccurs="0">
                <xs:complexType>
                  <xs:sequence>
                    <xs:element type="xs:string" name="name"/>
                    <xs:element type="xs:string" name="description"/>
                    <xs:element name="semp-request" type="semp-request-type"/>
                    <xs:element type="xs:string" name="run-configuration"/>
                    <xs:element type="destination-type" name="destination"/>
                    <xs:element type="xs:string" name="topic-string-suffix"/>
                    <xs:element type="xs:string" name="base-tag"/>
                    <xs:element name="object-tags" type="object-tags-type" minOccurs="0"/>
                    <xs:element name="send-empty-message" minOccurs="0"/>
                    <xs:element type="xs:string" name="min-semp-ver" minOccurs="0"/>
                    <xs:element type="xs:string" name="max-semp-ver" minOccurs="0"/>
                    <xs:element type="xs:short" name="min-poll-interval-sec" minOccurs="0"/>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
              <xs:element name="vpn-poller" maxOccurs="unbounded" minOccurs="0">
                <xs:complexType>
                  <xs:sequence>
                    <xs:element type="xs:string" name="name"/>
                    <xs:element type="xs:string" name="description"/>
                    <xs:element name="semp-request" type="semp-request-type"/>
                    <!--xs:element name="is-grouped" minOccurs="0"/-->
                    <xs:element type="xs:string" name="run-configuration"/>
                    <xs:element type="destination-type" name="destination"/>
                    <xs:element type="xs:string" name="topic-string-suffix"/>
                    <xs:element type="xs:string" name="base-tag"/>
                    <xs:element type="xs:string" name="vpn-name-tag"/>
                    <xs:element name="object-tags" type="object-tags-type" minOccurs="0"/>
                    <xs:element type="xs:string" name="min-semp-ver" minOccurs="0"/>
                    <xs:element type="xs:string" name="max-semp-ver" minOccurs="0"/>
                    <xs:element type="xs:short" name="min-poll-interval-sec" minOccurs="0"/>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
              <xs:element name="per-vpn-poller" maxOccurs="unbounded" minOccurs="0">
                <xs:complexType>
                  <xs:sequence>
                    <xs:element type="xs:string" name="name"/>
                    <xs:element type="xs:string" name="description"/>
                    <xs:element name="semp-request" type="semp-request-type"/>
                    <xs:element name="is-grouped" minOccurs="0"/>
                    <xs:element type="xs:string" name="run-configuration"/>
                    <xs:element type="destination-type" name="destination"/>
                    <xs:element type="xs:string" name="topic-string-suffix"/>
                    <xs:element type="xs:string" name="base-tag"/>
                    <xs:element name="object-tags" type="object-tags-type" minOccurs="0"/>
                    <xs:element type="xs:string" name="min-semp-ver" minOccurs="0"/>
                    <xs:element type="xs:string" name="max-semp-ver" minOccurs="0"/>
                    <xs:element type="xs:short" name="min-poll-interval-sec" minOccurs="0"/>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>